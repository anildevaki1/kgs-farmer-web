"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[452],{5452(m,p,a){a.d(p,{AddressPage:()=>v});var n=a(375),g=a(7705),d=a(1600),h=a(5689),u=a(5902),f=a(5670);let l=(()=>{var i;class e{constructor(){this.apiSrc=(0,n.WQX)(h.z),this.alertSrc=(0,n.WQX)(u.n),this.storage=(0,n.WQX)(d.H)}initialize(){return new Promise((o,r)=>{this.apiSrc.get("FarmerVisitPlace/Place",null,{"content-type":"application/json"}).pipe((0,f.t)({bufferSize:1,refCount:!0})).subscribe({next:s=>{this.storage.companyInfo.set(s),o()},error:s=>{this.alertSrc.alert(s.message),r(s)}})})}static#t=i=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}))}return i(),e})();var t=a(5547);function x(i,e){if(1&i){const c=t.RV6();t.rj2(0,"div",3)(1,"p",4),t.EFF(2),t.eux(),t.rj2(3,"button",5),t.VwU("click",function(){n.eBV(c);const r=t.XpG();return n.Njj(r.retry())}),t.EFF(4,"Try Again"),t.eux()()}if(2&i){const c=t.XpG();t.R7$(2),t.SpI("Failed to load data: ",c.errorMessage)}}let v=(()=>{var i;class e{constructor(){this.placesService=(0,n.WQX)(l),this.navSrc=(0,n.WQX)(d.d),this.cds=(0,n.WQX)(g.gRc),this.isInitialized=!1,this.hasError=!1,this.errorMessage=""}ngOnInit(){this.loadData()}loadData(){this.placesService.initialize().then(()=>{this.navSrc.navigate("registration",null,"forward")}).catch(o=>{this.hasError=!0,this.errorMessage=o.message||"Unknown error occurred"}),this.cds.detectChanges()}retry(){this.hasError=!1,this.errorMessage="",this.loadData()}static#t=i=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=t.VBU({type:e,selectors:[["app-address"]],features:[t.Jv_([l])],decls:8,vars:1,consts:[[1,"initializer-page"],[1,"loading-box"],[1,"spinner"],[1,"error-section"],[1,"error-text"],[1,"retry-btn",3,"click"]],template:function(r,s){1&r&&(t.rj2(0,"div",0)(1,"div",1),t.Hgh(2,"div",2),t.rj2(3,"h2"),t.EFF(4,"Loading Application"),t.eux(),t.rj2(5,"p"),t.EFF(6,"Please wait while we load necessary data..."),t.eux(),t.nVh(7,x,5,1,"div",3),t.eux()()),2&r&&(t.R7$(7),t.vxM(s.hasError?7:-1))},styles:[".initializer-page[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#307d3b,#39c24e);display:flex;justify-content:center;align-items:center;z-index:9999}.loading-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 30px #0003;text-align:center;min-width:300px}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.error-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid #eee}.error-text[_ngcontent-%COMP%]{color:#e74c3c;margin-bottom:15px}.retry-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px}.retry-btn[_ngcontent-%COMP%]:hover{background:#5a67d8}"],changeDetection:0}))}return i(),e})()}}]);